"use strict";function type(t,a,n){return t["Concept-Map"]=+t["Concept-Map"],t.Control=+t.Control,t}var width=600,height=600,margin={top:40,bottom:40,left:40,right:100},svg=d3.select("#my-svg").attr("width",width+margin.left+margin.right).attr("height",height+margin.top+margin.bottom),g=svg.append("g").attr("width",width).attr("height",height).attr("transform","translate("+margin.left+","+margin.top+")"),x0=d3.scaleBand().rangeRound([0,width]).paddingInner(.1).paddingOuter(.15),x1=d3.scaleBand().padding(.05),y=d3.scaleLinear().rangeRound([height,0]),z=d3.scaleOrdinal().range(["#7fbf7b","#af8dc3"]);d3.csv("data/mindthegap2.csv",type,function(t,a){var n=a.columns.slice(1);x0.domain(a.map(function(t){return t.Treatments})),x1.domain(n).rangeRound([0,x0.bandwidth()]),y.domain([0,d3.max(a,function(t){return d3.max(n,function(a){return t[a]})})+1]).nice(),g.append("g").selectAll("g").data(a).enter().append("g").attr("transform",function(t){return"translate("+x0(t.Treatments)+",0)"}).selectAll("rect").data(function(t){return n.map(function(a){return{key:a,value:t[a]}})}).enter().append("rect").attr("x",function(t){return x1(t.key)}).attr("y",function(t){return y(t.value)}).attr("width",x1.bandwidth()).attr("height",function(t){return height-y(t.value)}).attr("fill",function(t){return z(t.key)});var r=g.append("g").attr("font-family","sans-serif").attr("font-size",18).attr("text-anchor","end").selectAll("g").data(n.slice().reverse()).enter().append("g").attr("transform",function(t,a){return"translate(0,"+20*a+")"});r.append("rect").attr("x",width-19).attr("width",19).attr("height",19).attr("fill",z),r.append("text").attr("x",width-24).attr("y",9.5).attr("font-size",18).attr("dy","0.32em").text(function(t){return t}),g.append("g").attr("class","x-axis").attr("transform","translate(0,"+height+")").call(d3.axisBottom(x0)).attr("font-size","18"),g.append("g").attr("class","y-axis").call(d3.axisLeft(y).ticks(null,"s")).append("text").attr("fill","#fff").attr("transform","rotate(-90)").attr("y",y(y.ticks().pop())+.5).attr("dy","1.21em").style("text-anchor","end").text("global cohesion (principle orientation)").attr("font-size","16").style("fill","black"),g.append("line").style("stroke","grey").attr("x1",x0("Draft Explanation")+x1.bandwidth()+10).attr("x2",x0("Draft Explanation")+x1.bandwidth()+10).attr("y1",y(2.6)).attr("y2",y(2.7)),g.append("text").attr("x",x0("Draft Explanation")+x1.bandwidth()+10).attr("y",y(2.8)).text("F(1,25) = 0.24, p = .63").attr("text-anchor","middle").attr("font-size",18),g.append("line").style("stroke","grey").attr("x1",x0("Revision Explanation")+x1.bandwidth()+10).attr("x2",x0("Revision Explanation")+x1.bandwidth()+10).attr("y1",y(3.1)).attr("y2",y(3.2)),g.append("text").attr("x",x0("Revision Explanation")+x1.bandwidth()+10).attr("y",y(3.3)).text("F(1,24) = 2.93, p = .10, np2 = .11").attr("text-anchor","middle").attr("font-size",18),g.append("line").style("stroke","grey").attr("x1",x0("Transfer Explanation")+x1.bandwidth()+10).attr("x2",x0("Transfer Explanation")+x1.bandwidth()+10).attr("y1",y(2.9)).attr("y2",y(2.95)),g.append("text").attr("x",x0("Transfer Explanation")+x1.bandwidth()+10).attr("y",y(3)).text("F(1,25) = 7.89, p = .01*, np2 = .24").attr("text-anchor","middle").attr("font-size",18)});